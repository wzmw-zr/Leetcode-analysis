# LeetCode330 按要求补齐数组 题解

## 一、题目描述

给定一个已排序的正整数数组 nums，和一个正整数 n 。从 [1, n] 区间内选取任意个数字补充到 nums 中，使得 [1, n] 区间内的任何数字都可以用 nums 中某几个数字的和来表示。请输出满足上述要求的最少需要补充的数字个数。



## 二、分析

这里涉及到一个性质：

如果$[1,x - 1]$的所有数字被覆盖，那么如果新的数字$m\le x$，则覆盖的范围变成$[1,m + x - 1]$。

如果$m>x$，那么为了为了能够最大化上界(保证覆盖范围连续)，补上数字$x$，覆盖的范围就变成了$[1,2 * x - 1]$。

> 这个性质具有启发性。



## 三、代码

```c++
int minPatches(vector<int>& nums, int n) {
    int x = 1, ans = 0; 
    for (int i = 0; i < nums.size(); ) {
        if (nums[i] <= x) x += nums[i++];
        else x *= 2, ans++;
    }
    while (x <= n) x *= 2, ans++;
    return ans;
}
```

